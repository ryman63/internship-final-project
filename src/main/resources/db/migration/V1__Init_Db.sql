create table internship (id int8 generated by default as identity, date_begin date, date_end date, date_end_recording date, description varchar(255), name varchar(255), state varchar(255), primary key (id));
create table participant (id int8 generated by default as identity, about_me varchar(255), city varchar(255), course int4 not null, date_of_birth date, education_status varchar(255), email varchar(255), faculty varchar(255), full_name varchar(255), mobile_number varchar(255), specialty varchar(255), telegram_id varchar(255), university varchar(255), username varchar(255), primary key (id));
create table performance (id int8 generated by default as identity, grade varchar(255), participant_id int8 not null, task_id int8 not null, primary key (id));
create table lesson (id int8 generated by default as identity, name varchar(255), publication_date_time timestamp, status varchar(255), internship_id int8 not null, primary key (id));
create table task (id int8 generated by default as identity, git_lab_repository_id varchar(255), name varchar(255), status varchar(255), lesson_id int8 not null, primary key (id));
alter table if exists lesson add constraint FK_lesson_internship foreign key (internship_id) references internship;
alter table if exists performance add constraint FK_performance_participant foreign key (participant_id) references participant;
alter table if exists performance add constraint FK_performance_task foreign key (task_id) references task;
alter table if exists task add constraint FK_task_lesson foreign key (lesson_id) references lesson;
alter table if exists performance add constraint FK_performanceParticipant foreign key (participant_id) references participant;
alter table if exists participant add column internship_id int8;
alter table if exists participant add constraint FK_participantInternship foreign key (internship_id) references internship;